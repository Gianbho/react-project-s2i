(this["webpackJsonpreact-project-s2i"]=this["webpackJsonpreact-project-s2i"]||[]).push([[0],{24:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},49:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(20),i=n.n(r),o=n(22),s=n(13),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_RECIPES"===t.type?Object(s.a)(t.payload):e},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_RECIPE"===t.type?t.payload:e},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_INGREDIENTS"===t.type?t.payload:e},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_INSTRUCTIONS"===t.type?t.payload:e},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_LIKED_ING"===t.type?Object(s.a)(t.payload):e},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"GET_NOT_LIKED_ING"===t.type?Object(s.a)(t.payload):e},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_FAV_RECIPE":return Object(s.a)(t.payload);case"REMOVE_FAV_RECIPE":var n=e.filter((function(e){return e.id!==t.payload}));return Object(s.a)(n);default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SEARCH_RECIPES"===t.type?t.payload:e},g=Object(o.a)({favRecipes:O,recipes:l,recipe:u,ingredients:j,instructions:d,likedIngredients:b,notLikedIngredients:p,searchRecipes:h}),f=n(4),x=(n(49),n(8)),m=n(3),v=(n(24),n(37)),y=n(7),E=n.n(y),S=n(14),I=n(5),N=function(e){return{type:"GET_RECIPES",payload:e}},k=function(e){return{type:"SAVE_FAV_RECIPE",payload:e}},_=n(12),T=n.n(_),C=(n(34),n(21)),w=n(16),R=n(2),D=function(e){var t=e.id,n=e.title,a=e.image,r=e.diet,i=Object(f.b)(),o=Object(c.useState)(!!localStorage.getItem("".concat(n))),s=Object(I.a)(o,2),l=s[0],u=s[1],j=function(){null===localStorage.getItem("".concat(n))?(localStorage.setItem("".concat(n),t),u(!l)):(localStorage.removeItem("".concat(n)),i({type:"REMOVE_FAV_RECIPE",payload:t}),u(!l))};return Object(R.jsxs)("div",{className:"recipe-container",children:[Object(R.jsxs)("div",{className:"title-div",children:[Object(R.jsx)("h2",{children:n}),1==r?Object(R.jsx)(C.a,{className:"veg-icon",title:"Vegan",size:"25px"}):null]}),Object(R.jsx)("img",{src:a}),Object(R.jsxs)("div",{className:"recipe-container-btns-div",children:[Object(R.jsx)(x.b,{to:"/recipe/".concat(t),className:"btn",children:"Open"}),l?Object(R.jsx)(w.a,{size:"28px",className:"heart",onClick:j}):Object(R.jsx)(w.b,{size:"30px",className:"heart",onClick:j})]})]})},G=function(){var e=Object(f.c)((function(e){return e.recipes})),t=Object(f.c)((function(e){return e.likedIngredients})),n=Object(f.c)((function(e){return e.notLikedIngredients})),a=Object(f.b)(),r=Object(c.useState)(),i=Object(I.a)(r,2),o=i[0],s=(i[1],function(){var e=Object(S.a)(E.a.mark((function e(){var c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://api.spoonacular.com/recipes/complexSearch?&diet=vegetarian&includeIngredients=".concat(t[0],",").concat(t[1],",").concat(t[2],"&excludeIngredients=").concat(n[0],",").concat(n[1],",").concat(n[2],",").concat("orange pepper","&addRecipeNutrition=true&number=5&apiKey=").concat("f071caa85e3b452284e343e13ee1da2a"));case 2:return c=e.sent,e.next=5,a(N(c.data.results));case 5:return e.next=7,console.log(c.data.results);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)((function(){s()}),[]),o?"Error: ".concat(o.message):Object(R.jsx)(R.Fragment,{children:e.map((function(e){return console.log(e),console.log(e.nutrition.ingredients),Object(R.jsx)(D,{title:e.title,image:e.image,id:e.id,ingredients:e.nutrition.ingredients,diet:e.vegan},e.id)}))})},L=n(10),F=(n(35),function(e){var t=Object(c.useState)({}),n=Object(I.a)(t,2),a=n[0],r=n[1],i=[],o=Object(f.b)();return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("form",{className:"ingredientsForm",onSubmit:function(e){e.preventDefault(),function(){if(!(i=[a.likedFirst,a.likedSecond,a.likedThird])[0])return!1;console.log(i),o({type:"GET_LIKED_ING",payload:i})}()},children:[Object(R.jsx)("h1",{children:"3 ingredients you love"}),Object(R.jsx)("input",{type:"text",placeholder:"",value:a[0],onChange:function(e){e.preventDefault(),r(Object(L.a)(Object(L.a)({},a),{},{likedFirst:e.target.value}))},required:!0}),Object(R.jsx)("input",{type:"text",placeholder:"",value:a[1],onChange:function(e){e.preventDefault(),r(Object(L.a)(Object(L.a)({},a),{},{likedSecond:e.target.value}))},required:!0}),Object(R.jsx)("input",{type:"text",placeholder:"",value:a[2],onChange:function(e){e.preventDefault(),r(Object(L.a)(Object(L.a)({},a),{},{likedThird:e.target.value}))},required:!0}),Object(R.jsx)("button",{className:"form-btn",type:"submit",children:"love 'em!"})]})})}),V=function(e){var t=Object(c.useState)({}),n=Object(I.a)(t,2),a=n[0],r=n[1],i=[],o=Object(f.b)();return Object(R.jsx)(R.Fragment,{children:Object(R.jsxs)("form",{className:"ingredientsForm",onSubmit:function(e){e.preventDefault(),function(){if(!(i=[a.notLikedFirst,a.notLikedSecond,a.notLikedThird])[0])return!1;console.log(i),o({type:"GET_NOT_LIKED_ING",payload:i})}()},children:[Object(R.jsx)("h1",{children:"Now 3 ingredients you hate"}),Object(R.jsx)("input",{type:"text",placeholder:"",value:a[0],onChange:function(e){e.preventDefault(),r(Object(L.a)(Object(L.a)({},a),{},{notLikedFirst:e.target.value}))},required:!0}),Object(R.jsx)("input",{type:"text",placeholder:"",value:a[1],onChange:function(e){e.preventDefault(),r(Object(L.a)(Object(L.a)({},a),{},{notLikedSecond:e.target.value}))},required:!0}),Object(R.jsx)("input",{type:"text",placeholder:"",value:a[2],onChange:function(e){e.preventDefault(),r(Object(L.a)(Object(L.a)({},a),{},{notLikedThird:e.target.value}))},required:!0}),Object(R.jsx)("button",{className:"form-btn",type:"submit",children:"hate 'em!"})]})})},P=function(e){Object(v.a)(e);Object(f.b)();var t=Object(f.c)((function(e){return e.likedIngredients})),n=Object(f.c)((function(e){return e.notLikedIngredients}));return Object(c.useEffect)((function(){}),[]),Object(R.jsxs)("div",{className:"static-width",children:[3===t.length&&3===n.length?Object(R.jsx)(G,{}):3===t.length?Object(R.jsx)(V,{}):Object(R.jsx)(F,{}),Object(R.jsx)("button",{onClick:function(){console.log(n)},children:"click"}),Object(R.jsx)(x.b,{to:"my-recipes",children:"My Recipes"})]})},K=(n(70),"f071caa85e3b452284e343e13ee1da2a"),q=function(){var e=Object(f.c)((function(e){return e.recipe})),t=Object(f.c)((function(e){return e.ingredients})),n=Object(f.c)((function(e){return e.instructions})),a=Object(f.b)(),r=Object(c.useState)(!0),i=Object(I.a)(r,2),o=i[0],s=i[1],l=Object(m.g)().id,u=Object(c.useState)(!!localStorage.getItem("".concat(e.title))),j=Object(I.a)(u,2),d=j[0],b=j[1],p=function(){var e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://api.spoonacular.com/recipes/".concat(l,"/information?includeNutrition=false&apiKey=").concat(K));case 2:t=e.sent,a({type:"GET_RECIPE",payload:t.data}),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://api.spoonacular.com/recipes/".concat(l,"/information?includeNutrition=false&apiKey=").concat(K));case 2:t=e.sent,a({type:"GET_INGREDIENTS",payload:t.data.extendedIngredients}),console.log(t.data.extendedIngredients);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(S.a)(E.a.mark((function e(){var t;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("https://api.spoonacular.com/recipes/".concat(l,"/analyzedInstructions?apiKey=").concat(K));case 2:(t=e.sent).data[0]?(a({type:"GET_INSTRUCTIONS",payload:t.data[0].steps}),console.log(t.data[0].steps)):console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){null===localStorage.getItem("".concat(e.title))?(localStorage.setItem("".concat(e.title),l),b(!d)):(localStorage.removeItem("".concat(e.title)),b(!d))};return Object(c.useEffect)((function(){setTimeout((function(){return s(!o)}),1e3),p(),h(),O()}),[]),o?Object(R.jsx)("div",{className:"static-width",children:Object(R.jsx)("h1",{children:"Loading"})}):Object(R.jsxs)("div",{className:"recipe static-width",children:[Object(R.jsxs)("div",{className:"recipe-title-div",children:[Object(R.jsx)("h1",{children:e.title}),1==e.vegan?Object(R.jsx)(C.a,{className:"veg-icon",title:"Vegan",size:"25px"}):null]}),Object(R.jsx)("img",{src:e.image}),Object(R.jsx)("h3",{children:"Ingredients"}),Object(R.jsx)("ul",{children:t.map((function(e){return Object(R.jsx)("li",{children:e.name+" "},e.id)}))}),Object(R.jsx)("h3",{children:"Method"}),n.map((function(e){return Object(R.jsx)("p",{children:e.step},e.number)})),d?Object(R.jsx)(w.a,{size:"28px",className:"heart",onClick:g}):Object(R.jsx)(w.b,{size:"30px",className:"heart",onClick:g})]})},A=function(){var e=Object(f.c)((function(e){return e.favRecipes})),t=Object(f.b)(),n=Object(c.useState)(!0),a=Object(I.a)(n,2),r=a[0],i=a[1],o=[],l="f071caa85e3b452284e343e13ee1da2a";function u(){return(u=Object(S.a)(E.a.mark((function e(){var n,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<localStorage.length)){e.next=10;break}return e.next=4,T.a.get("https://api.spoonacular.com/recipes/".concat(localStorage.getItem(localStorage.key(n)),"/information?apiKey=").concat(l));case 4:c=e.sent,o=[].concat(Object(s.a)(o),[c.data]),t(k(o));case 7:n++,e.next=1;break;case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){setTimeout((function(){return i(!r)}),150),function(){u.apply(this,arguments)}(),console.log(localStorage.length),console.log(localStorage.key(0)),console.log(localStorage.key(1)),console.log(localStorage.key(2)),console.log(e)}),[]),r?Object(R.jsx)("div",{className:"static-width",children:Object(R.jsx)("h1",{children:"Loading"})}):Object(R.jsxs)("div",{className:"static-width",children:[e.length===localStorage.length?e.map((function(e){return Object(R.jsx)(D,{title:e.title,image:e.image,id:e.id,diet:e.vegan},e.id)})):Object(R.jsx)("h1",{children:"Loading"}),Object(R.jsx)("button",{onClick:function(){console.log(e)},children:"console.log state"}),Object(R.jsx)(x.b,{to:"/",children:Object(R.jsx)("button",{children:"Home"})})]})},z=function(){var e=Object(f.b)(),t=Object(c.useState)(),n=Object(I.a)(t,2),a=n[0],r=(n[1],Object(m.g)().query),i=Object(f.c)((function(e){return e.recipes})),o=function(){var t=Object(S.a)(E.a.mark((function t(){var n;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.a.get("https://api.spoonacular.com/recipes/complexSearch?&diet=vegetarian&query=".concat(r,"&excludeIngredients=").concat("orange pepper","&addRecipeNutrition=true&number=5&apiKey=").concat("f071caa85e3b452284e343e13ee1da2a"));case 2:return n=t.sent,t.next=5,e(N(n.data.results));case 5:return t.next=7,console.log(n.data.results);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){o()}),[r]),a?"Error: ".concat(a.message):Object(R.jsx)("div",{className:"static-width",children:i.map((function(e){return console.log(e),console.log(e.nutrition.ingredients),Object(R.jsx)(D,{title:e.title,image:e.image,id:e.id,ingredients:e.nutrition.ingredients,diet:e.vegan},e.id)}))})},M=(n(71),function(){return Object(R.jsxs)("header",{className:"header",children:[Object(R.jsx)("h1",{children:"TheVegProject"}),Object(R.jsx)("h4",{children:"Gianluca's React.js project for Start 2 Impact"})]})}),H=n(38),U=(n(72),function(){var e=Object(f.b)(),t=Object(c.useState)(!1),n=Object(I.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(),o=Object(I.a)(i,2),s=o[0],l=o[1];return Object(R.jsxs)("nav",{children:[Object(R.jsxs)("div",{className:"navbar",children:[Object(R.jsx)(x.b,{to:"/",className:"link",children:"Home"}),Object(R.jsx)(x.b,{to:"my-recipes",className:"link",children:"My recipes"}),Object(R.jsx)(H.a,{title:"search",size:"25px",onClick:function(){r(!a)},style:{cursor:"pointer",color:"#70AF85"}})]}),Object(R.jsxs)("form",{className:a?"search-input show-search":"search-input",onSubmit:function(t){t.preventDefault(),e({type:"SEARCH_RECIPES",payload:s})},children:[Object(R.jsx)("input",{type:"text",placeholder:"",onChange:function(e){e.preventDefault(),l(e.target.value)}}),Object(R.jsx)(x.b,{to:"/search-results/".concat(s),children:Object(R.jsx)("button",{className:"search-btn",type:"submit",onClick:function(){return console.log(s)},children:"search"})})]})]})}),X=function(){return Object(R.jsx)(R.Fragment,{children:Object(R.jsx)("h1",{children:"404"})})},J=function(){return Object(R.jsxs)(x.a,{children:[Object(R.jsx)(M,{}),Object(R.jsx)(U,{}),Object(R.jsxs)(m.c,{children:[Object(R.jsx)(m.a,{path:"/",element:Object(R.jsx)(P,{})}),Object(R.jsx)(m.a,{path:"recipe/:id",element:Object(R.jsx)(q,{})}),Object(R.jsx)(m.a,{path:"*",element:Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(x.b,{to:"/",children:Object(R.jsx)("button",{children:"back home"})}),Object(R.jsx)(X,{})]})}),Object(R.jsx)(m.a,{path:"my-recipes",element:Object(R.jsx)(A,{})}),Object(R.jsx)(m.a,{path:"search-results/:query",element:Object(R.jsx)(z,{})})]})]})},B=Object(o.b)(g,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(f.a,{store:B,children:Object(R.jsx)(J,{})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.269ee1df.chunk.js.map